@import "tailwindcss";

:root {
  --background: #ffffff;
  --foreground: #171717;
}

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);
  --color-brand-blue: #1E293B;
  --color-brand-teal: #0EA5E9;
}

/* Force Tailwind v4 to use class-based dark mode - try both approaches */
@variant dark (.dark &, [data-theme="dark"] &);

/* Light theme - explicit - force light colors */
:root.light,
:root.light body,
html.light,
html.light body {
  --background: #ffffff !important;
  --foreground: #171717 !important;
  background-color: #ffffff !important;
  color: #171717 !important;
}

/* Dark theme */
:root.dark,
:root.dark body,
html.dark,
html.dark body,
[data-theme="dark"],
[data-theme="dark"] body {
  --background: #0f172a !important;
  --foreground: #f1f5f9 !important;
  background-color: #0f172a !important;
  color: #f1f5f9 !important;
}

/* System theme - only apply if no explicit theme class */
@media (prefers-color-scheme: dark) {
  :root:not(.light):not(.dark):not([data-theme]),
  :root:not(.light):not(.dark):not([data-theme]) body {
    --background: #0f172a;
    --foreground: #f1f5f9;
  }
}

body {
  background: var(--background);
  color: var(--foreground);
  font-family: Arial, Helvetica, sans-serif;
  transition: background-color 0.2s, color 0.2s;
}

/* Force light theme - Tailwind v4 dark mode workaround */
/* When .light class is on html, force all elements to use light colors */

html.light {
  /* Main container backgrounds */
  & .bg-slate-50,
  & [class*="bg-slate-50"] {
    background-color: rgb(248 250 252) !important; /* slate-50 */
  }
  
  & .bg-white,
  & [class*="bg-white"] {
    background-color: white !important;
  }
  
  /* Text colors */
  & .text-slate-800,
  & .text-slate-900,
  & [class*="text-slate-8"],
  & [class*="text-slate-9"] {
    color: rgb(15 23 42) !important; /* slate-900 */
  }
  
  & .text-slate-600,
  & .text-slate-500,
  & [class*="text-slate-5"],
  & [class*="text-slate-6"] {
    color: rgb(100 116 139) !important; /* slate-500 */
  }
  
  /* Borders */
  & .border-slate-200,
  & [class*="border-slate-200"] {
    border-color: rgb(226 232 240) !important; /* slate-200 */
  }
  
  /* Override any dark: classes that might be applied */
  & [class*="dark:"] {
    /* Reset dark: backgrounds to light equivalents */
    &[class*="dark:bg-slate-950"] { background-color: rgb(248 250 252) !important; }
    &[class*="dark:bg-slate-900"] { background-color: white !important; }
    &[class*="dark:bg-slate-800"] { background-color: white !important; }
    
    /* Reset dark: text to light equivalents */
    &[class*="dark:text-white"] { color: rgb(15 23 42) !important; }
    &[class*="dark:text-slate-400"] { color: rgb(100 116 139) !important; }
    
    /* Reset dark: borders to light equivalents */
    &[class*="dark:border-slate-800"] { border-color: rgb(226 232 240) !important; }
    &[class*="dark:border-slate-700"] { border-color: rgb(226 232 240) !important; }
  }
}

/* Shimmer animation for loading progress bars */
@keyframes shimmer {
  0% {
    transform: translateX(-100%);
    opacity: 0.5;
  }
  50% {
    transform: translateX(200%);
    opacity: 1;
  }
  100% {
    transform: translateX(500%);
    opacity: 0.5;
  }
}

.animate-shimmer {
  animation: shimmer 2s ease-in-out infinite;
}

/* Global dark theme fixes - автоматично застосовують темні стилі для загальних паттернів */
html.dark {
  /* Override common light text colors in dark mode */
  .text-slate-900:not([class*="dark:text-"]),
  .text-slate-800:not([class*="dark:text-"]),
  .text-slate-700:not([class*="dark:text-"]) {
    color: rgb(241 245 249) !important; /* slate-100 */
  }
  
  .text-slate-600:not([class*="dark:text-"]),
  .text-slate-500:not([class*="dark:text-"]) {
    color: rgb(203 213 225) !important; /* slate-300 */
  }
  
  /* Override common light backgrounds in dark mode */
  .bg-white:not([class*="dark:bg-"]),
  .bg-slate-50:not([class*="dark:bg-"]) {
    background-color: rgb(30 41 59) !important; /* slate-800 */
  }
  
  .bg-slate-100:not([class*="dark:bg-"]) {
    background-color: rgb(51 65 85) !important; /* slate-700 */
  }
  
  /* Override borders */
  .border-slate-200:not([class*="dark:border-"]),
  .border-slate-300:not([class*="dark:border-"]) {
    border-color: rgb(51 65 85) !important; /* slate-700 */
  }
  
  /* Override hover states */
  .hover\:bg-slate-50:hover:not([class*="dark:hover:bg-"]),
  .hover\:bg-slate-100:hover:not([class*="dark:hover:bg-"]) {
    background-color: rgb(51 65 85) !important; /* slate-700 */
  }
  
  .hover\:text-slate-700:hover:not([class*="dark:hover:text-"]),
  .hover\:text-slate-900:hover:not([class*="dark:hover:text-"]) {
    color: rgb(241 245 249) !important; /* slate-100 */
  }
}
