# –ü–ª–∞–Ω —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—É —Ä–æ–±–æ—Ç–∏ –∑ –∫—ñ–ª—å–∫–æ–º–∞ –∫–æ–º–ø–∞–Ω—ñ—è–º–∏

## üìã –ü–æ—Ç–æ—á–Ω–∏–π —Å—Ç–∞–Ω

**–ü–æ—Ç–æ—á–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞:**
- `User` –º–∞—î `companyId` (–æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–∏–π) - –æ–¥–∏–Ω –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á ‚Üí –æ–¥–Ω–∞ –∫–æ–º–ø–∞–Ω—ñ—è
- `Company` –º–∞—î `users[]` - –æ–¥–Ω–∞ –∫–æ–º–ø–∞–Ω—ñ—è ‚Üí –±–∞–≥–∞—Ç–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤
- –í—Å—ñ –¥–∞–Ω—ñ (–¥–µ–∫–ª–∞—Ä–∞—Ü—ñ—ó, —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—ó) –ø—Ä–∏–≤'—è–∑–∞–Ω—ñ –¥–æ `companyId`

**–ü—Ä–æ–±–ª–µ–º–∞:** –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –Ω–µ –º–æ–∂–µ –º–∞—Ç–∏ –∫—ñ–ª—å–∫–∞ –∫–æ–º–ø–∞–Ω—ñ–π —ñ –ø–µ—Ä–µ–º–∏–∫–∞—Ç–∏—Å—è –º—ñ–∂ –Ω–∏–º–∏.

---

## üéØ –ú–µ—Ç–∞

–î–æ–∑–≤–æ–ª–∏—Ç–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞–º:
1. –ú–∞—Ç–∏ –∫—ñ–ª—å–∫–∞ –∫–æ–º–ø–∞–Ω—ñ–π —É —Å–≤–æ—î–º—É –∫–∞–±—ñ–Ω–µ—Ç—ñ
2. –ü–µ—Ä–µ–º–∏–∫–∞—Ç–∏—Å—è –º—ñ–∂ –∫–æ–º–ø–∞–Ω—ñ—è–º–∏
3. –î–æ–¥–∞–≤–∞—Ç–∏ –Ω–æ–≤—ñ –∫–æ–º–ø–∞–Ω—ñ—ó
4. –ö–µ—Ä—É–≤–∞—Ç–∏ –¥–æ—Å—Ç—É–ø–æ–º –¥–æ –∫–æ–º–ø–∞–Ω—ñ–π (–≤–ª–∞—Å–Ω–∏–∫/—É—á–∞—Å–Ω–∏–∫)

---

## üóÑÔ∏è –ó–º—ñ–Ω–∏ –≤ –±–∞–∑—ñ –¥–∞–Ω–∏—Ö

### 1. –ù–æ–≤–∞ —Ç–∞–±–ª–∏—Ü—è `UserCompany` (Many-to-Many)

```prisma
model UserCompany {
  id        String   @id @default(uuid())
  userId    String
  companyId String
  role      String   @default("OWNER") // OWNER, MEMBER, VIEWER
  isActive  Boolean  @default(true) // –ß–∏ –∞–∫—Ç–∏–≤–Ω–∏–π –¥–æ—Å—Ç—É–ø
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  user    User    @relation(fields: [userId], references: [id], onDelete: Cascade)
  company Company @relation(fields: [companyId], references: [id], onDelete: Cascade)

  @@unique([userId, companyId])
  @@index([userId])
  @@index([companyId])
  @@index([userId, isActive])
}
```

### 2. –û–Ω–æ–≤–ª–µ–Ω–Ω—è –º–æ–¥–µ–ª–µ–π

**User:**
```prisma
model User {
  // ... —ñ—Å–Ω—É—é—á—ñ –ø–æ–ª—è
  activeCompanyId String? // ID –∞–∫—Ç–∏–≤–Ω–æ—ó –∫–æ–º–ø–∞–Ω—ñ—ó (–¥–ª—è —à–≤–∏–¥–∫–æ–≥–æ –¥–æ—Å—Ç—É–ø—É)
  companies       UserCompany[] // Many-to-many —á–µ—Ä–µ–∑ UserCompany
}
```

**Company:**
```prisma
model Company {
  // ... —ñ—Å–Ω—É—é—á—ñ –ø–æ–ª—è
  userCompanies UserCompany[] // Many-to-many —á–µ—Ä–µ–∑ UserCompany
}
```

### 3. –ú—ñ–≥—Ä–∞—Ü—ñ—è –¥–∞–Ω–∏—Ö

**–°—Ç—Ä–∞—Ç–µ–≥—ñ—è –º—ñ–≥—Ä–∞—Ü—ñ—ó:**
1. –°—Ç–≤–æ—Ä–∏—Ç–∏ —Ç–∞–±–ª–∏—Ü—ñ `UserCompany`, `CompanyInvitation`, `CompanyAuditLog`
2. –î–æ–¥–∞—Ç–∏ –ø–æ–ª—è `activeCompanyId` –¥–æ `User` —Ç–∞ `deletedAt` –¥–æ `Company`
3. –ü–µ—Ä–µ–Ω–µ—Å—Ç–∏ —ñ—Å–Ω—É—é—á—ñ –∑–≤'—è–∑–∫–∏ `User.companyId ‚Üí Company.id` –≤ `UserCompany`
4. –í—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ `role = "OWNER"` –¥–ª—è –≤—Å—ñ—Ö —ñ—Å–Ω—É—é—á–∏—Ö –∑–≤'—è–∑–∫—ñ–≤
5. –í—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ `activeCompanyId` –¥–ª—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤, —è–∫—ñ –º–∞–ª–∏ `companyId`
6. –ó—Ä–æ–±–∏—Ç–∏ `User.companyId` deprecated (–∑–∞–ª–∏—à–∏—Ç–∏ –¥–ª—è –∑–≤–æ—Ä–æ—Ç–Ω–æ—ó —Å—É–º—ñ—Å–Ω–æ—Å—Ç—ñ, –∞–ª–µ –Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏)

---

## üîê –†–æ–ª—ñ —Ç–∞ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø—É

### –†–æ–ª—ñ –≤ –∫–æ–º–ø–∞–Ω—ñ—ó:

1. **OWNER (–í–ª–∞—Å–Ω–∏–∫)**
   - –ü–æ–≤–Ω–∏–π –¥–æ—Å—Ç—É–ø –¥–æ –≤—Å—ñ—Ö —Ñ—É–Ω–∫—Ü—ñ–π
   - –ú–æ–∂–µ –¥–æ–¥–∞–≤–∞—Ç–∏/–≤–∏–¥–∞–ª—è—Ç–∏ —É—á–∞—Å–Ω–∏–∫—ñ–≤
   - –ú–æ–∂–µ –∑–º—ñ–Ω—é–≤–∞—Ç–∏ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –∫–æ–º–ø–∞–Ω—ñ—ó
   - –ú–æ–∂–µ –≤–∏–¥–∞–ª—è—Ç–∏ –∫–æ–º–ø–∞–Ω—ñ—é

2. **MEMBER (–£—á–∞—Å–Ω–∏–∫)**
   - –ú–æ–∂–µ –ø–µ—Ä–µ–≥–ª—è–¥–∞—Ç–∏ —Ç–∞ –µ–∫—Å–ø–æ—Ä—Ç—É–≤–∞—Ç–∏ –¥–∞–Ω—ñ
   - –ú–æ–∂–µ –∑–∞–ø—É—Å–∫–∞—Ç–∏ —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—ó
   - –ú–æ–∂–µ –¥–æ–¥–∞–≤–∞—Ç–∏ –∫–æ–º–µ–Ω—Ç–∞—Ä—ñ
   - –ù–ï –º–æ–∂–µ –∑–º—ñ–Ω—é–≤–∞—Ç–∏ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –∫–æ–º–ø–∞–Ω—ñ—ó
   - –ù–ï –º–æ–∂–µ –¥–æ–¥–∞–≤–∞—Ç–∏/–≤–∏–¥–∞–ª—è—Ç–∏ —É—á–∞—Å–Ω–∏–∫—ñ–≤

3. **VIEWER (–ü–µ—Ä–µ–≥–ª—è–¥–∞—á)**
   - –¢—ñ–ª—å–∫–∏ –ø–µ—Ä–µ–≥–ª—è–¥ –¥–∞–Ω–∏—Ö
   - –ù–ï –º–æ–∂–µ –µ–∫—Å–ø–æ—Ä—Ç—É–≤–∞—Ç–∏
   - –ù–ï –º–æ–∂–µ –∑–∞–ø—É—Å–∫–∞—Ç–∏ —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—ó
   - –ù–ï –º–æ–∂–µ –¥–æ–¥–∞–≤–∞—Ç–∏ –∫–æ–º–µ–Ω—Ç–∞—Ä—ñ

---

## üé® UI/UX –§—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª

### 1. –°–µ–ª–µ–∫—Ç–æ—Ä –∫–æ–º–ø–∞–Ω—ñ–π (Header)

**–†–æ–∑—Ç–∞—à—É–≤–∞–Ω–Ω—è:** –í–µ—Ä—Ö–Ω—ñ–π —Ö–µ–¥–µ—Ä, –±—ñ–ª—è —ñ–º–µ–Ω—ñ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞

**–§—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª:**
- Dropdown –∑—ñ —Å–ø–∏—Å–∫–æ–º –≤—Å—ñ—Ö –∫–æ–º–ø–∞–Ω—ñ–π –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
- –ü–æ–∫–∞–∑—É—î –Ω–∞–∑–≤—É –∫–æ–º–ø–∞–Ω—ñ—ó —Ç–∞ EDRPOU
- –í—ñ–∑—É–∞–ª—å–Ω–æ –≤–∏–¥—ñ–ª—è—î –∞–∫—Ç–∏–≤–Ω—É –∫–æ–º–ø–∞–Ω—ñ—é
- –ö–Ω–æ–ø–∫–∞ "+ –î–æ–¥–∞—Ç–∏ –∫–æ–º–ø–∞–Ω—ñ—é" –≤–Ω–∏–∑—É —Å–ø–∏—Å–∫—É
- –®–≤–∏–¥–∫–µ –ø–µ—Ä–µ–º–∏–∫–∞–Ω–Ω—è –º—ñ–∂ –∫–æ–º–ø–∞–Ω—ñ—è–º–∏ (–±–µ–∑ –ø–µ—Ä–µ–∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —Å—Ç–æ—Ä—ñ–Ω–∫–∏)

**–î–∏–∑–∞–π–Ω:**
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ üë§ –Ü–≤–∞–Ω –Ü–≤–∞–Ω–æ–≤        ‚ñº     ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ üè¢ –ö–æ–º–ø–∞–Ω—ñ—è 1 (12345678) ‚úì  ‚îÇ ‚Üê –ê–∫—Ç–∏–≤–Ω–∞
‚îÇ üè¢ –ö–æ–º–ø–∞–Ω—ñ—è 2 (87654321)     ‚îÇ
‚îÇ üè¢ –ö–æ–º–ø–∞–Ω—ñ—è 3 (11223344)     ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ + –î–æ–¥–∞—Ç–∏ –∫–æ–º–ø–∞–Ω—ñ—é           ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### 2. –°—Ç–æ—Ä—ñ–Ω–∫–∞ "–ú–æ—ó –∫–æ–º–ø–∞–Ω—ñ—ó"

**–†–æ–∑—Ç–∞—à—É–≤–∞–Ω–Ω—è:** –ù–æ–≤–∞ –≤–∫–ª–∞–¥–∫–∞ –≤ Settings –∞–±–æ –æ–∫—Ä–µ–º–∞ —Å—Ç–æ—Ä—ñ–Ω–∫–∞ `/dashboard/companies`

**–§—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª:**
- –°–ø–∏—Å–æ–∫ –≤—Å—ñ—Ö –∫–æ–º–ø–∞–Ω—ñ–π –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
- –î–ª—è –∫–æ–∂–Ω–æ—ó –∫–æ–º–ø–∞–Ω—ñ—ó –ø–æ–∫–∞–∑—É—î:
  - –ù–∞–∑–≤–∞ —Ç–∞ EDRPOU
  - –†–æ–ª—å –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ (OWNER/MEMBER/VIEWER)
  - –ö—ñ–ª—å–∫—ñ—Å—Ç—å –¥–µ–∫–ª–∞—Ä–∞—Ü—ñ–π
  - –î–∞—Ç–∞ –æ—Å—Ç–∞–Ω–Ω—å–æ—ó —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—ó
  - –°—Ç–∞—Ç—É—Å (–∞–∫—Ç–∏–≤–Ω–∞/–Ω–µ–∞–∫—Ç–∏–≤–Ω–∞)
- –ö–Ω–æ–ø–∫–∞ "–ó—Ä–æ–±–∏—Ç–∏ –∞–∫—Ç–∏–≤–Ω–æ—é" –¥–ª—è –Ω–µ–∞–∫—Ç–∏–≤–Ω–∏—Ö –∫–æ–º–ø–∞–Ω—ñ–π
- –ö–Ω–æ–ø–∫–∞ "–ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è" –¥–ª—è –≤–ª–∞—Å–Ω–∏–∫—ñ–≤
- –ö–Ω–æ–ø–∫–∞ "–í–∏–π—Ç–∏ –∑ –∫–æ–º–ø–∞–Ω—ñ—ó" (–¥–ª—è –Ω–µ-–≤–ª–∞—Å–Ω–∏–∫—ñ–≤)
- –ö–Ω–æ–ø–∫–∞ "–í–∏–¥–∞–ª–∏—Ç–∏ –∫–æ–º–ø–∞–Ω—ñ—é" (—Ç—ñ–ª—å–∫–∏ –¥–ª—è –≤–ª–∞—Å–Ω–∏–∫—ñ–≤)

**–î–∏–∑–∞–π–Ω (Card-based):**
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ üè¢ –¢–û–í "–ö–æ–º–ø–∞–Ω—ñ—è 1"          [–ê–∫—Ç–∏–≤–Ω–∞]  ‚îÇ
‚îÇ EDRPOU: 12345678                        ‚îÇ
‚îÇ –†–æ–ª—å: –í–ª–∞—Å–Ω–∏–∫                           ‚îÇ
‚îÇ –î–µ–∫–ª–∞—Ä–∞—Ü—ñ–π: 1,234 | –û—Å—Ç–∞–Ω–Ω—è —Å–∏–Ω—Ö—Ä: —Å—å–æ–≥–æ–¥–Ω—ñ ‚îÇ
‚îÇ [–ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è] [–ü–µ—Ä–µ–º–∫–Ω—É—Ç–∏]             ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### 3. –ú–æ–¥–∞–ª—å–Ω–µ –≤—ñ–∫–Ω–æ "–î–æ–¥–∞—Ç–∏ –∫–æ–º–ø–∞–Ω—ñ—é"

**–¢—Ä–∏–≥–µ—Ä–∏:**
- –ö–Ω–æ–ø–∫–∞ "+ –î–æ–¥–∞—Ç–∏ –∫–æ–º–ø–∞–Ω—ñ—é" –≤ —Å–µ–ª–µ–∫—Ç–æ—Ä—ñ
- –ö–Ω–æ–ø–∫–∞ "–î–æ–¥–∞—Ç–∏ –∫–æ–º–ø–∞–Ω—ñ—é" –Ω–∞ —Å—Ç–æ—Ä—ñ–Ω—Ü—ñ "–ú–æ—ó –∫–æ–º–ø–∞–Ω—ñ—ó"

**–§—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª:**
- –§–æ—Ä–º–∞ –∑ –ø–æ–ª—è–º–∏:
  - –ù–∞–∑–≤–∞ –∫–æ–º–ø–∞–Ω—ñ—ó (–æ–±–æ–≤'—è–∑–∫–æ–≤–µ)
  - EDRPOU (–æ–±–æ–≤'—è–∑–∫–æ–≤–µ, –≤–∞–ª—ñ–¥–∞—Ü—ñ—è —Ñ–æ—Ä–º–∞—Ç—É)
  - –¢–æ–∫–µ–Ω –º–∏—Ç–Ω–∏—Ü—ñ (–æ–±–æ–≤'—è–∑–∫–æ–≤–µ)
  - –Ü–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è —è–∫ –æ—Ç—Ä–∏–º–∞—Ç–∏ —Ç–æ–∫–µ–Ω (–ø–æ—Å–∏–ª–∞–Ω–Ω—è/–º–æ–¥–∞–ª—å–Ω–µ –≤—ñ–∫–Ω–æ)
- –í–∞–ª—ñ–¥–∞—Ü—ñ—è:
  - EDRPOU –º–∞—î –±—É—Ç–∏ —É–Ω—ñ–∫–∞–ª—å–Ω–∏–º (–ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ –≤ –ë–î)
  - –Ø–∫—â–æ –∫–æ–º–ø–∞–Ω—ñ—è –≤–∂–µ —ñ—Å–Ω—É—î ‚Üí –∑–∞–ø—Ä–æ–ø–æ–Ω—É–≤–∞—Ç–∏ –ø—Ä–∏—î–¥–Ω–∞—Ç–∏—Å—è (—è–∫—â–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –Ω–µ —î —É—á–∞—Å–Ω–∏–∫–æ–º)
- –ü—ñ—Å–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è:
  - –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ —Å—Ç–∞—î –∞–∫—Ç–∏–≤–Ω–æ—é –∫–æ–º–ø–∞–Ω—ñ—î—é
  - –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω—è –Ω–∞ onboarding (—è–∫—â–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ) –∞–±–æ dashboard

### 4. –ú–æ–¥–∞–ª—å–Ω–µ –≤—ñ–∫–Ω–æ "–ü—Ä–∏—î–¥–Ω–∞—Ç–∏—Å—è –¥–æ –∫–æ–º–ø–∞–Ω—ñ—ó"

**–í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è:**
- –Ø–∫—â–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –Ω–∞–º–∞–≥–∞—î—Ç—å—Å—è –¥–æ–¥–∞—Ç–∏ –∫–æ–º–ø–∞–Ω—ñ—é –∑ —ñ—Å–Ω—É—é—á–∏–º EDRPOU
- –Ø–∫—â–æ –≤–ª–∞—Å–Ω–∏–∫ –∫–æ–º–ø–∞–Ω—ñ—ó –Ω–∞–¥—Å–∏–ª–∞—î –∑–∞–ø—Ä–æ—à–µ–Ω–Ω—è

**–§—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª:**
- –ü–æ–∫–∞–∑—É—î —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é –ø—Ä–æ –∫–æ–º–ø–∞–Ω—ñ—é
- –ó–∞–ø–∏—Ç—É—î —Ç–æ–∫–µ–Ω –º–∏—Ç–Ω–∏—Ü—ñ (–¥–ª—è –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ –¥–æ—Å—Ç—É–ø—É)
- –í–ª–∞—Å–Ω–∏–∫ –∫–æ–º–ø–∞–Ω—ñ—ó –º–æ–∂–µ –¥–æ–¥–∞—Ç–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ –≤—Ä—É—á–Ω—É (—á–µ—Ä–µ–∑ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è)

### 5. –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –∫–æ–º–ø–∞–Ω—ñ—ó (–æ–Ω–æ–≤–ª–µ–Ω–Ω—è)

**–î–æ—Å—Ç—É–ø:** –¢—ñ–ª—å–∫–∏ –¥–ª—è OWNER

**–§—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª:**
- –í—Å—ñ –ø–æ—Ç–æ—á–Ω—ñ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è (—Ç–æ–∫–µ–Ω, —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—è) - **–ó–ë–ï–†–Ü–ì–ê–Æ–¢–¨–°–Ø –ù–ê –†–Ü–í–ù–Ü –ö–û–ú–ü–ê–ù–Ü–á**
- –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –µ–∫—Å–ø–æ—Ä—Ç—É —Ç–∞ —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É - **–ó–ë–ï–†–Ü–ì–ê–Æ–¢–¨–°–Ø –ù–ê –†–Ü–í–ù–Ü –ö–û–†–ò–°–¢–£–í–ê–ß–ê** (localStorage)
- –ù–æ–≤–∞ —Å–µ–∫—Ü—ñ—è "–£—á–∞—Å–Ω–∏–∫–∏":
  - –°–ø–∏—Å–æ–∫ —É—á–∞—Å–Ω–∏–∫—ñ–≤ –∑ —Ä–æ–ª—è–º–∏
  - –ö–Ω–æ–ø–∫–∞ "–ù–∞–¥—ñ—Å–ª–∞—Ç–∏ –∑–∞–ø—Ä–æ—à–µ–Ω–Ω—è" (–ø–æ email)
  - –ú–æ–∂–ª–∏–≤—ñ—Å—Ç—å –∑–º—ñ–Ω–∏—Ç–∏ —Ä–æ–ª—å
  - –ú–æ–∂–ª–∏–≤—ñ—Å—Ç—å –≤–∏–¥–∞–ª–∏—Ç–∏ —É—á–∞—Å–Ω–∏–∫–∞
  - –ú–æ–∂–ª–∏–≤—ñ—Å—Ç—å –ø–µ—Ä–µ–¥–∞—Ç–∏ –≤–ª–∞—Å–Ω—ñ—Å—Ç—å (—Ç—ñ–ª—å–∫–∏ –¥–ª—è –≤–ª–∞—Å–Ω–∏–∫–∞)

---

## üîß Backend –∑–º—ñ–Ω–∏

### 1. –ù–æ–≤—ñ Server Actions

**`src/actions/companies.ts`** (–Ω–æ–≤–∏–π —Ñ–∞–π–ª):
```typescript
// –û—Ç—Ä–∏–º–∞—Ç–∏ –≤—Å—ñ –∫–æ–º–ø–∞–Ω—ñ—ó –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
export async function getUserCompanies()

// –û—Ç—Ä–∏–º–∞—Ç–∏ –∞–∫—Ç–∏–≤–Ω—É –∫–æ–º–ø–∞–Ω—ñ—é
export async function getActiveCompany()

// –ó–º—ñ–Ω–∏—Ç–∏ –∞–∫—Ç–∏–≤–Ω—É –∫–æ–º–ø–∞–Ω—ñ—é
export async function setActiveCompany(companyId: string)

// –°—Ç–≤–æ—Ä–∏—Ç–∏ –Ω–æ–≤—É –∫–æ–º–ø–∞–Ω—ñ—é
export async function createCompany(data: { name: string, edrpou: string, customsToken: string })

// –ü—Ä–∏—î–¥–Ω–∞—Ç–∏—Å—è –¥–æ –∫–æ–º–ø–∞–Ω—ñ—ó
export async function joinCompany(companyId: string, customsToken: string)

// –í–∏–π—Ç–∏ –∑ –∫–æ–º–ø–∞–Ω—ñ—ó
export async function leaveCompany(companyId: string)

// –í–∏–¥–∞–ª–∏—Ç–∏ –∫–æ–º–ø–∞–Ω—ñ—é (–º'—è–∫–µ –≤–∏–¥–∞–ª–µ–Ω–Ω—è, —Ç—ñ–ª—å–∫–∏ –¥–ª—è OWNER)
export async function deleteCompany(companyId: string)

// –í—ñ–¥–Ω–æ–≤–∏—Ç–∏ –∫–æ–º–ø–∞–Ω—ñ—é (—Ç—ñ–ª—å–∫–∏ –¥–ª—è OWNER, —è–∫—â–æ –≤–∏–¥–∞–ª–µ–Ω–∞ –º–µ–Ω—à–µ 90 –¥–Ω—ñ–≤)
export async function restoreCompany(companyId: string)

// –§—ñ–∑–∏—á–Ω–æ –≤–∏–¥–∞–ª–∏—Ç–∏ –∫–æ–º–ø–∞–Ω—ñ—é (—Ç—ñ–ª—å–∫–∏ –¥–ª—è OWNER, –ø—ñ—Å–ª—è –º'—è–∫–æ–≥–æ –≤–∏–¥–∞–ª–µ–Ω–Ω—è)
export async function permanentlyDeleteCompany(companyId: string)

// –û—Ç—Ä–∏–º–∞—Ç–∏ —É—á–∞—Å–Ω–∏–∫—ñ–≤ –∫–æ–º–ø–∞–Ω—ñ—ó
export async function getCompanyMembers(companyId: string)

// –î–æ–¥–∞—Ç–∏ —É—á–∞—Å–Ω–∏–∫–∞
export async function addCompanyMember(companyId: string, email: string, role: 'MEMBER' | 'VIEWER')

// –ó–º—ñ–Ω–∏—Ç–∏ —Ä–æ–ª—å —É—á–∞—Å–Ω–∏–∫–∞
export async function updateMemberRole(companyId: string, userId: string, role: string)

// –í–∏–¥–∞–ª–∏—Ç–∏ —É—á–∞—Å–Ω–∏–∫–∞
export async function removeCompanyMember(companyId: string, userId: string)

// –ü–µ—Ä–µ–¥–∞—Ç–∏ –≤–ª–∞—Å–Ω—ñ—Å—Ç—å
export async function transferOwnership(companyId: string, newOwnerId: string)

// –ó–∞–ø—Ä–æ—à–µ–Ω–Ω—è
export async function inviteUser(companyId: string, email: string, role: 'MEMBER' | 'VIEWER')

export async function getInvitations(companyId: string)

export async function acceptInvitation(token: string)

export async function rejectInvitation(token: string)

export async function cancelInvitation(companyId: string, invitationId: string)

// –ê—É–¥–∏—Ç (—ñ—Å—Ç–æ—Ä—ñ—è –∑–º—ñ–Ω)
export async function getCompanyAuditLog(companyId: string, limit?: number)
```

### 2. –û–Ω–æ–≤–ª–µ–Ω–Ω—è —ñ—Å–Ω—É—é—á–∏—Ö Actions

**–í—Å—ñ actions, —è–∫—ñ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å `user.company.id`:**
- `getDeclarations()` ‚Üí –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ `activeCompanyId` –∑ —Å–µ—Å—ñ—ó
- `getCompanyInfo()` ‚Üí –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ `activeCompanyId`
- `updateCustomsToken()` ‚Üí –ø–µ—Ä–µ–≤—ñ—Ä—è—Ç–∏ —Ä–æ–ª—å (—Ç—ñ–ª—å–∫–∏ OWNER/MEMBER)
- `updateSyncSettings()` ‚Üí –ø–µ—Ä–µ–≤—ñ—Ä—è—Ç–∏ —Ä–æ–ª—å (—Ç—ñ–ª—å–∫–∏ OWNER)
- `syncDeclarations()` ‚Üí –ø–µ—Ä–µ–≤—ñ—Ä—è—Ç–∏ —Ä–æ–ª—å (—Ç—ñ–ª—å–∫–∏ OWNER/MEMBER)
- –í—Å—ñ —ñ–Ω—à—ñ actions, —è–∫—ñ –ø—Ä–∞—Ü—é—é—Ç—å –∑ –∫–æ–º–ø–∞–Ω—ñ—î—é

**–ü–∞—Ç—Ç–µ—Ä–Ω –æ–Ω–æ–≤–ª–µ–Ω–Ω—è:**
```typescript
// –ó–∞–º—ñ—Å—Ç—å:
const user = await auth();
const company = await db.company.findUnique({ where: { id: user.companyId } });

// –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏:
const session = await auth();
const activeCompanyId = session.user.activeCompanyId;
if (!activeCompanyId) throw new Error("No active company");

// –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø—É
const userCompany = await db.userCompany.findUnique({
  where: { userId_companyId: { userId: session.user.id, companyId: activeCompanyId } }
});
if (!userCompany || !userCompany.isActive) throw new Error("No access");
```

### 3. –û–Ω–æ–≤–ª–µ–Ω–Ω—è Auth

**`src/auth.ts`:**
```typescript
callbacks: {
  async jwt({ token, user }) {
    if (user) {
      const dbUser = await db.user.findUnique({
        where: { id: user.id },
        select: { 
          activeCompanyId: true,
          companies: {
            where: { isActive: true },
            select: { companyId: true, role: true }
          }
        }
      });
      token.activeCompanyId = dbUser?.activeCompanyId || null;
      token.companies = dbUser?.companies || [];
    }
    return token;
  },
  async session({ session, token }) {
    if (session.user) {
      session.user.activeCompanyId = token.activeCompanyId as string | null;
      session.user.companies = token.companies as Array<{ companyId: string, role: string }>;
    }
    return session;
  }
}
```

---

## üì± Frontend –∑–º—ñ–Ω–∏

### 1. –ö–æ–º–ø–æ–Ω–µ–Ω—Ç `CompanySelector`

**`src/components/company-selector.tsx`** (–Ω–æ–≤–∏–π):
- Dropdown –∑—ñ —Å–ø–∏—Å–∫–æ–º –∫–æ–º–ø–∞–Ω—ñ–π
- –í—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è –∞–∫—Ç–∏–≤–Ω–æ—ó –∫–æ–º–ø–∞–Ω—ñ—ó
- –®–≤–∏–¥–∫–µ –ø–µ—Ä–µ–º–∏–∫–∞–Ω–Ω—è
- –ö–Ω–æ–ø–∫–∞ –¥–æ–¥–∞–≤–∞–Ω–Ω—è –Ω–æ–≤–æ—ó –∫–æ–º–ø–∞–Ω—ñ—ó

### 2. –°—Ç–æ—Ä—ñ–Ω–∫–∞ "–ú–æ—ó –∫–æ–º–ø–∞–Ω—ñ—ó"

**`src/app/dashboard/companies/page.tsx`** (–Ω–æ–≤–∞):
- –°–ø–∏—Å–æ–∫ –∫–æ–º–ø–∞–Ω—ñ–π
- –ö–∞—Ä—Ç–∫–∏ –∑ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—î—é
- –î—ñ—ó –¥–ª—è –∫–æ–∂–Ω–æ—ó –∫–æ–º–ø–∞–Ω—ñ—ó

### 3. –ú–æ–¥–∞–ª—å–Ω—ñ –≤—ñ–∫–Ω–∞

**`src/components/add-company-modal.tsx`** (–Ω–æ–≤–µ):
- –§–æ—Ä–º–∞ –¥–æ–¥–∞–≤–∞–Ω–Ω—è –∫–æ–º–ø–∞–Ω—ñ—ó
- –í–∞–ª—ñ–¥–∞—Ü—ñ—è EDRPOU
- –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –∑ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—î—é —Ç–æ–∫–µ–Ω–∞

**`src/components/company-members-modal.tsx`** (–Ω–æ–≤–µ):
- –°–ø–∏—Å–æ–∫ —É—á–∞—Å–Ω–∏–∫—ñ–≤
- –£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è —Ä–æ–ª—è–º–∏
- –î–æ–¥–∞–≤–∞–Ω–Ω—è/–≤–∏–¥–∞–ª–µ–Ω–Ω—è —É—á–∞—Å–Ω–∏–∫—ñ–≤

### 4. –û–Ω–æ–≤–ª–µ–Ω–Ω—è Layout

**`src/app/dashboard/layout-client.tsx`:**
- –î–æ–¥–∞—Ç–∏ `CompanySelector` –≤ header
- –û–Ω–æ–≤–ª—é–≤–∞—Ç–∏ –¥–∞–Ω—ñ –ø—Ä–∏ –∑–º—ñ–Ω—ñ –∞–∫—Ç–∏–≤–Ω–æ—ó –∫–æ–º–ø–∞–Ω—ñ—ó

### 5. –û–Ω–æ–≤–ª–µ–Ω–Ω—è Settings

**`src/app/dashboard/settings/page-client.tsx`:**
- –î–æ–¥–∞—Ç–∏ —Å–µ–∫—Ü—ñ—é "–ú–æ—ó –∫–æ–º–ø–∞–Ω—ñ—ó"
- –ê–±–æ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ –æ–∫—Ä–µ–º—É —Å—Ç–æ—Ä—ñ–Ω–∫—É

---

## üîÑ –ú—ñ–≥—Ä–∞—Ü—ñ—è –¥–∞–Ω–∏—Ö

### SQL –º—ñ–≥—Ä–∞—Ü—ñ—è:

```sql
-- 1. –°—Ç–≤–æ—Ä–∏—Ç–∏ —Ç–∞–±–ª–∏—Ü—é UserCompany
CREATE TABLE "UserCompany" (
  "id" TEXT NOT NULL,
  "userId" TEXT NOT NULL,
  "companyId" TEXT NOT NULL,
  "role" TEXT NOT NULL DEFAULT 'OWNER',
  "isActive" BOOLEAN NOT NULL DEFAULT true,
  "createdAt" TIMESTAMP(3) NOT NULL DEFAULT CURRENT_TIMESTAMP,
  "updatedAt" TIMESTAMP(3) NOT NULL,
  CONSTRAINT "UserCompany_pkey" PRIMARY KEY ("id")
);

-- 2. –î–æ–¥–∞—Ç–∏ activeCompanyId –¥–æ User
ALTER TABLE "User" ADD COLUMN "activeCompanyId" TEXT;

-- 3. –ü–µ—Ä–µ–Ω–µ—Å—Ç–∏ —ñ—Å–Ω—É—é—á—ñ –∑–≤'—è–∑–∫–∏
INSERT INTO "UserCompany" ("id", "userId", "companyId", "role", "isActive", "createdAt", "updatedAt")
SELECT 
  gen_random_uuid(),
  u."id",
  u."companyId",
  'OWNER',
  true,
  NOW(),
  NOW()
FROM "User" u
WHERE u."companyId" IS NOT NULL;

-- 4. –í—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ activeCompanyId
UPDATE "User" u
SET "activeCompanyId" = u."companyId"
WHERE u."companyId" IS NOT NULL;

-- 5. –î–æ–¥–∞—Ç–∏ —ñ–Ω–¥–µ–∫—Å–∏ —Ç–∞ foreign keys
CREATE UNIQUE INDEX "UserCompany_userId_companyId_key" ON "UserCompany"("userId", "companyId");
CREATE INDEX "UserCompany_userId_idx" ON "UserCompany"("userId");
CREATE INDEX "UserCompany_companyId_idx" ON "UserCompany"("companyId");
CREATE INDEX "UserCompany_userId_isActive_idx" ON "UserCompany"("userId", "isActive");

ALTER TABLE "UserCompany" ADD CONSTRAINT "UserCompany_userId_fkey" 
  FOREIGN KEY ("userId") REFERENCES "User"("id") ON DELETE CASCADE ON UPDATE CASCADE;
ALTER TABLE "UserCompany" ADD CONSTRAINT "UserCompany_companyId_fkey" 
  FOREIGN KEY ("companyId") REFERENCES "Company"("id") ON DELETE CASCADE ON UPDATE CASCADE;
ALTER TABLE "User" ADD CONSTRAINT "User_activeCompanyId_fkey" 
  FOREIGN KEY ("activeCompanyId") REFERENCES "Company"("id") ON DELETE SET NULL ON UPDATE CASCADE;
```

---

## üöÄ –ï—Ç–∞–ø–∏ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó

### –ï—Ç–∞–ø 1: –ë–∞–∑–∞ –¥–∞–Ω–∏—Ö —Ç–∞ –º—ñ–≥—Ä–∞—Ü—ñ—è (‚úÖ –í–ò–ö–û–ù–ê–ù–û)
- [x] –°—Ç–≤–æ—Ä–∏—Ç–∏ –º–æ–¥–µ–ª—å `UserCompany` –≤ Prisma
- [x] –î–æ–¥–∞—Ç–∏ `activeCompanyId` –¥–æ `User`
- [x] –°—Ç–≤–æ—Ä–∏—Ç–∏ –º—ñ–≥—Ä–∞—Ü—ñ—é
- [x] –ó–∞–ø—É—Å—Ç–∏—Ç–∏ –º—ñ–≥—Ä–∞—Ü—ñ—é –Ω–∞ dev
- [x] –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –º—ñ–≥—Ä–∞—Ü—ñ—é –¥–∞–Ω–∏—Ö

### –ï—Ç–∞–ø 2: Backend - –±–∞–∑–æ–≤–∏–π —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª (‚úÖ –í–ò–ö–û–ù–ê–ù–û)
- [x] –°—Ç–≤–æ—Ä–∏—Ç–∏ `src/actions/companies.ts`
- [x] –†–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ `getUserCompanies()`
- [x] –†–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ `getActiveCompany()`
- [x] –†–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ `setActiveCompany()`
- [x] –û–Ω–æ–≤–∏—Ç–∏ `auth.ts` –¥–ª—è –ø—ñ–¥—Ç—Ä–∏–º–∫–∏ `activeCompanyId`
- [x] –û–Ω–æ–≤–∏—Ç–∏ —Ç–∏–ø–∏ NextAuth

### –ï—Ç–∞–ø 3: Backend - —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –∫–æ–º–ø–∞–Ω—ñ—è–º–∏ (‚úÖ –í–ò–ö–û–ù–ê–ù–û)
- [x] –†–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ `createCompany()`
- [x] –†–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ `joinCompany()`
- [x] –†–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ `leaveCompany()`
- [x] –†–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ `deleteCompany()`
- [x] –î–æ–¥–∞—Ç–∏ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ —Ä–æ–ª–µ–π

### –ï—Ç–∞–ø 4: Backend - –æ–Ω–æ–≤–ª–µ–Ω–Ω—è —ñ—Å–Ω—É—é—á–∏—Ö actions (‚úÖ –í–ò–ö–û–ù–ê–ù–û)
- [x] –û–Ω–æ–≤–∏—Ç–∏ –≤—Å—ñ actions –¥–ª—è –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è `activeCompanyId`
- [x] –î–æ–¥–∞—Ç–∏ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ –¥–æ—Å—Ç—É–ø—É –¥–æ –∫–æ–º–ø–∞–Ω—ñ—ó
- [x] –î–æ–¥–∞—Ç–∏ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ —Ä–æ–ª–µ–π –¥–ª—è –∫—Ä–∏—Ç–∏—á–Ω–∏—Ö –æ–ø–µ—Ä–∞—Ü—ñ–π
- [x] –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è

### –ï—Ç–∞–ø 5: Frontend - –±–∞–∑–æ–≤–∏–π UI (‚úÖ –í–ò–ö–û–ù–ê–ù–û)
- [x] –°—Ç–≤–æ—Ä–∏—Ç–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç `CompanySelector`
- [x] –Ü–Ω—Ç–µ–≥—Ä—É–≤–∞—Ç–∏ –≤ `layout-client.tsx`
- [x] –°—Ç–≤–æ—Ä–∏—Ç–∏ —Å—Ç–æ—Ä—ñ–Ω–∫—É `/dashboard/companies`
- [x] –î–æ–¥–∞—Ç–∏ –Ω–∞–≤—ñ–≥–∞—Ü—ñ—é

### –ï—Ç–∞–ø 6: Frontend - –º–æ–¥–∞–ª—å–Ω—ñ –≤—ñ–∫–Ω–∞ (‚úÖ –í–ò–ö–û–ù–ê–ù–û)
- [x] –°—Ç–≤–æ—Ä–∏—Ç–∏ `AddCompanyModal`
- [x] –°—Ç–≤–æ—Ä–∏—Ç–∏ `CompanyMembersModal`
- [x] –Ü–Ω—Ç–µ–≥—Ä—É–≤–∞—Ç–∏ –∑ —Ñ–æ—Ä–º–∞–º–∏
- [x] –î–æ–¥–∞—Ç–∏ –≤–∞–ª—ñ–¥–∞—Ü—ñ—é

### –ï—Ç–∞–ø 7: Frontend - —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è —É—á–∞—Å–Ω–∏–∫–∞–º–∏ —Ç–∞ –∑–∞–ø—Ä–æ—à–µ–Ω–Ω—è–º–∏ (‚úÖ –í–ò–ö–û–ù–ê–ù–û)
- [x] –†–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ –≤—ñ–¥–ø—Ä–∞–≤–∫—É –∑–∞–ø—Ä–æ—à–µ–Ω—å (–≤ –º–æ–¥–∞–ª—Ü—ñ)
- [x] –†–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ –ø—Ä–∏–π–Ω—è—Ç—Ç—è –∑–∞–ø—Ä–æ—à–µ–Ω—å (—á–µ—Ä–µ–∑ —Ç–æ–∫–µ–Ω)
- [x] –†–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ –∑–º—ñ–Ω—É —Ä–æ–ª–µ–π
- [x] –†–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ –≤–∏–¥–∞–ª–µ–Ω–Ω—è —É—á–∞—Å–Ω–∏–∫—ñ–≤
- [x] –î–æ–¥–∞—Ç–∏ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ –ø—Ä–∞–≤
- [x] –†–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ –º'—è–∫–µ –≤–∏–¥–∞–ª–µ–Ω–Ω—è —Ç–∞ –≤—ñ–¥–Ω–æ–≤–ª–µ–Ω–Ω—è –∫–æ–º–ø–∞–Ω—ñ–π
- [x] –î–æ–¥–∞—Ç–∏ –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è —ñ—Å—Ç–æ—Ä—ñ—ó –∑–º—ñ–Ω (–∞—É–¥–∏—Ç –ª–æ–≥)

### –ï—Ç–∞–ø 7.5: Frontend - —Ñ—ñ–ª—å—Ç—Ä–∞—Ü—ñ—è –ø–æ –∫–æ–º–ø–∞–Ω—ñ—è—Ö (‚úÖ –í–ò–ö–û–ù–ê–ù–û)
- [x] –°—Ç–≤–æ—Ä–∏—Ç–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç `CompanyFilter` (–¥–ª—è –∞—Ä—Ö—ñ–≤—É/–∞–Ω–∞–ª—ñ—Ç–∏–∫–∏)
- [x] –Ü–Ω—Ç–µ–≥—Ä—É–≤–∞—Ç–∏ –≤ –∞—Ä—Ö—ñ–≤ (–∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è –≤ localStorage)
- [x] –Ü–Ω—Ç–µ–≥—Ä—É–≤–∞—Ç–∏ –≤ –∞–Ω–∞–ª—ñ—Ç–∏–∫—É (–î–∞—à–±–æ—Ä–¥)
- [x] –û–Ω–æ–≤–∏—Ç–∏ actions –¥–ª—è –ø—ñ–¥—Ç—Ä–∏–º–∫–∏ —Ñ—ñ–ª—å—Ç—Ä–∞—Ü—ñ—ó
- [x] –î–æ–¥–∞—Ç–∏ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ –¥–æ—Å—Ç—É–ø—É –Ω–∞ backend

### –ï—Ç–∞–ø 8: –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è —Ç–∞ –ø–æ–ª—ñ–ø—à–µ–Ω–Ω—è (‚úÖ –í–ò–ö–û–ù–ê–ù–û)
- [x] –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è –≤—Å—ñ—Ö —Å—Ü–µ–Ω–∞—Ä—ñ—ó–≤ (–∑–º—ñ–Ω–∞ —Ä–æ–ª–µ–π, –≤–∏–¥–∞–ª–µ–Ω–Ω—è, –ø–µ—Ä–µ–º–∏–∫–∞–Ω–Ω—è)
- [x] –í–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è –±–∞–≥—ñ–≤ (–∫–µ—à—É–≤–∞–Ω–Ω—è –∞–Ω–∞–ª—ñ—Ç–∏–∫–∏, —Ñ—ñ–ª—å—Ç—Ä–∞—Ü—ñ—è –∞–∫—Ç–∏–≤–Ω–æ—ó –∫–æ–º–ø–∞–Ω—ñ—ó)
- [x] –û–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è –∑–∞–ø–∏—Ç—ñ–≤ (–≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –∑–≤'—è–∑–∫—ñ–≤ –∑–∞–º—ñ—Å—Ç—å ID —Å–µ—Å—ñ—ó)
- [x] –ü–æ–≤–Ω–∏–π —Ä–µ–≤'—é –∫–æ–¥—É —Ç–∞ –≤–∏–¥–∞–ª–µ–Ω–Ω—è –∑–∞—Å—Ç–∞—Ä—ñ–ª–∏—Ö –∑–≤'—è–∑–∫—ñ–≤ (`user.companyId`)

### –ï—Ç–∞–ø 9: –í–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è –î–µ–º–æ-–¥–æ—Å—Ç—É–ø—É (‚è≥ –í –†–û–ë–û–¢–Ü)
- [/] –í–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è —Ä–µ–¥—ñ—Ä–µ–∫—Ç—É –Ω–∞ Onboarding –≤ `login.ts`
- [ ] –û–Ω–æ–≤–ª–µ–Ω–Ω—è `getUserProfile` –¥–ª—è –ø—ñ–¥—Ç—Ä–∏–º–∫–∏ –º—É–ª—å—Ç–∏-–∫–æ–º–ø–∞–Ω—ñ–π–Ω–æ—Å—Ç—ñ
- [ ] –û–Ω–æ–≤–ª–µ–Ω–Ω—è —Å–∫—Ä–∏–ø—Ç–∞ `setup-demo-account.js` –¥–ª—è –ø–æ–≤–Ω–æ—ó —Å—É–º—ñ—Å–Ω–æ—Å—Ç—ñ
- [ ] –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è –≤—Ö–æ–¥—É –ø—ñ–¥ `test@gmail.com`

---

## üéâ –ü—Ä–æ–µ–∫—Ç –ó–∞–≤–µ—Ä—à–µ–Ω–æ!
–í—Å—ñ –µ—Ç–∞–ø–∏ –ø–ª–∞–Ω—É —É—Å–ø—ñ—à–Ω–æ —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω—ñ. –°–∏—Å—Ç–µ–º–∞ —Ç–µ–ø–µ—Ä –ø—ñ–¥—Ç—Ä–∏–º—É—î –ø–æ–≤–Ω–æ—Ü—ñ–Ω–Ω—É —Ä–æ–±–æ—Ç—É –∑ –¥–µ–∫—ñ–ª—å–∫–æ–º–∞ –∫–æ–º–ø–∞–Ω—ñ—è–º–∏, –∑–∞–ø—Ä–æ—à–µ–Ω–Ω—è —É—á–∞—Å–Ω–∏–∫—ñ–≤, –∞—É–¥–∏—Ç –¥—ñ–π —Ç–∞ –≥–Ω—É—á–∫—É —Ñ—ñ–ª—å—Ç—Ä–∞—Ü—ñ—é –¥–∞–Ω–∏—Ö –≤ –∞—Ä—Ö—ñ–≤—ñ —Ç–∞ –Ω–∞ –¥–∞—à–±–æ—Ä–¥—ñ.
–í—Å—ñ –∫—Ä–∏—Ç–∏—á–Ω—ñ –º—ñ—Å—Ü—è –ø–µ—Ä–µ–≤–µ–¥–µ–Ω–æ –Ω–∞ –Ω–æ–≤—É –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä—É `UserCompany`.




---

## ‚ö†Ô∏è –í–∞–∂–ª–∏–≤—ñ –º–æ–º–µ–Ω—Ç–∏

### –ë–µ–∑–ø–µ–∫–∞:
1. **–ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø—É:** –ö–æ–∂–µ–Ω –∑–∞–ø–∏—Ç –¥–æ –¥–∞–Ω–∏—Ö –∫–æ–º–ø–∞–Ω—ñ—ó –ø–æ–≤–∏–Ω–µ–Ω –ø–µ—Ä–µ–≤—ñ—Ä—è—Ç–∏, —á–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –º–∞—î –¥–æ—Å—Ç—É–ø
2. **–í–∞–ª—ñ–¥–∞—Ü—ñ—è —Ä–æ–ª–µ–π:** –ö—Ä–∏—Ç–∏—á–Ω—ñ –æ–ø–µ—Ä–∞—Ü—ñ—ó (–≤–∏–¥–∞–ª–µ–Ω–Ω—è, –∑–º—ñ–Ω–∞ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω—å) —Ç—ñ–ª—å–∫–∏ –¥–ª—è OWNER
3. **–¢–æ–∫–µ–Ω–∏:** –¢–æ–∫–µ–Ω–∏ –º–∏—Ç–Ω–∏—Ü—ñ –∑–∞–ª–∏—à–∞—é—Ç—å—Å—è –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–º–∏, –¥–æ—Å—Ç—É–ø —Ç—ñ–ª—å–∫–∏ –¥–ª—è OWNER/MEMBER
4. **EDRPOU:** –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —É–Ω—ñ–∫–∞–ª—å–Ω–æ—Å—Ç—ñ –ø—Ä–∏ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—ñ –∫–æ–º–ø–∞–Ω—ñ—ó

### –ü—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å:
1. **–ö–µ—à—É–≤–∞–Ω–Ω—è:** –ê–∫—Ç–∏–≤–Ω–∞ –∫–æ–º–ø–∞–Ω—ñ—è –≤ —Å–µ—Å—ñ—ó (JWT)
2. **–û–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è –∑–∞–ø–∏—Ç—ñ–≤:** –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ `select` –¥–ª—è –º—ñ–Ω—ñ–º—ñ–∑–∞—Ü—ñ—ó –¥–∞–Ω–∏—Ö
3. **–Ü–Ω–¥–µ–∫—Å–∏:** –í—Å—ñ foreign keys —Ç–∞ —á–∞—Å—Ç–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞–Ω—ñ –ø–æ–ª—è –º–∞—é—Ç—å —ñ–Ω–¥–µ–∫—Å–∏

### UX:
1. **–®–≤–∏–¥–∫–µ –ø–µ—Ä–µ–º–∏–∫–∞–Ω–Ω—è:** –ë–µ–∑ –ø–µ—Ä–µ–∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —Å—Ç–æ—Ä—ñ–Ω–∫–∏
2. **–í—ñ–∑—É–∞–ª—å–Ω–∞ —ñ–Ω–¥–∏–∫–∞—Ü—ñ—è:** –ß—ñ—Ç–∫–æ –ø–æ–∫–∞–∑—É–≤–∞—Ç–∏ –∞–∫—Ç–∏–≤–Ω—É –∫–æ–º–ø–∞–Ω—ñ—é
3. **–ü–æ–º–∏–ª–∫–∏:** –ó—Ä–æ–∑—É–º—ñ–ª—ñ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –ø—Ä–æ –ø–æ–º–∏–ª–∫–∏ –¥–æ—Å—Ç—É–ø—É
4. **Onboarding:** –î–ª—è –Ω–æ–≤–∏—Ö –∫–æ–º–ø–∞–Ω—ñ–π - –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω—è –Ω–∞ onboarding

---

## üìù –ü–∏—Ç–∞–Ω–Ω—è –¥–ª—è –æ–±–≥–æ–≤–æ—Ä–µ–Ω–Ω—è - –í–ò–†–Ü–®–ï–ù–Ü

1. ‚úÖ **–§—É–Ω–∫—Ü—ñ—è "–∑–∞–ø—Ä–æ—à–µ–Ω—å"** - –ü–æ—Ç—Ä—ñ–±–Ω–∞. –í–ª–∞—Å–Ω–∏–∫ –º–æ–∂–µ –Ω–∞–¥—Å–∏–ª–∞—Ç–∏ –∑–∞–ø—Ä–æ—à–µ–Ω–Ω—è –ø–æ email.
2. ‚úÖ **–í–∏–¥–∞–ª–µ–Ω–Ω—è –∫–æ–º–ø–∞–Ω—ñ—ó** - –¢—ñ–ª—å–∫–∏ –≤–ª–∞—Å–Ω–∏–∫ –º–æ–∂–µ –≤–∏–¥–∞–ª—è—Ç–∏ –∫–æ–º–ø–∞–Ω—ñ—é –∑ –¥–∞–Ω–∏–º–∏.
   - **–ú'—è–∫–µ –≤–∏–¥–∞–ª–µ–Ω–Ω—è (Soft Delete):** –ó–∞–º—ñ—Å—Ç—å —Ñ—ñ–∑–∏—á–Ω–æ–≥–æ –≤–∏–¥–∞–ª–µ–Ω–Ω—è –∑–∞–ø–∏—Å—É –∑ –ë–î, –ø–æ–∑–Ω–∞—á–∞—î–º–æ –π–æ–≥–æ —è–∫ –≤–∏–¥–∞–ª–µ–Ω–∏–π (`deletedAt` timestamp). –¶–µ –¥–æ–∑–≤–æ–ª—è—î:
     - –í—ñ–¥–Ω–æ–≤–∏—Ç–∏ –∫–æ–º–ø–∞–Ω—ñ—é –ø—ñ–∑–Ω—ñ—à–µ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, —á–µ—Ä–µ–∑ 30 –¥–Ω—ñ–≤)
     - –ó–±–µ—Ä–µ–≥—Ç–∏ —ñ—Å—Ç–æ—Ä—ñ—é –¥–ª—è –∞—É–¥–∏—Ç—É
     - –£–Ω–∏–∫–Ω—É—Ç–∏ –≤—Ç—Ä–∞—Ç–∏ –¥–∞–Ω–∏—Ö —á–µ—Ä–µ–∑ –ø–æ–º–∏–ª–∫—É
   - **–†—ñ—à–µ–Ω–Ω—è:** –í–∏–∫–æ—Ä–∏—Å—Ç–∞—î–º–æ –º'—è–∫–µ –≤–∏–¥–∞–ª–µ–Ω–Ω—è –∑ –º–æ–∂–ª–∏–≤—ñ—Å—Ç—é —Ñ—ñ–∑–∏—á–Ω–æ–≥–æ –≤–∏–¥–∞–ª–µ–Ω–Ω—è —á–µ—Ä–µ–∑ 90 –¥–Ω—ñ–≤ (–∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ —á–µ—Ä–µ–∑ cron job –∞–±–æ –≤—Ä—É—á–Ω—É).
3. ‚úÖ **–û–±–º–µ–∂–µ–Ω–Ω—è –Ω–∞ –∫—ñ–ª—å–∫—ñ—Å—Ç—å –∫–æ–º–ø–∞–Ω—ñ–π** - –ü–æ–∫–∏ –Ω–µ –ø–æ—Ç—Ä—ñ–±–Ω–æ, –±—É–¥–µ –Ω–∞ –µ—Ç–∞–ø—ñ –º–æ–Ω–µ—Ç–∏–∑–∞—Ü—ñ—ó.
4. ‚úÖ **–Ü—Å—Ç–æ—Ä—ñ—è –∑–º—ñ–Ω** - –ü–æ—Ç—Ä—ñ–±–Ω–∞. –ó–±–µ—Ä—ñ–≥–∞—Ç–∏ —Ö—Ç–æ, –∫–æ–ª–∏ —Ç–∞ —â–æ –∑–º—ñ–Ω–∏–≤ (–¥–æ–¥–∞–≤/–≤–∏–¥–∞–ª–∏–≤ —É—á–∞—Å–Ω–∏–∫–∞, –∑–º—ñ–Ω–∏–≤ —Ä–æ–ª—å).
5. ‚úÖ **–ï–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–∏—Ö** - –î–ª—è OWNER —Ç–∞ MEMBER. VIEWER –Ω–µ –º–∞—î –¥–æ—Å—Ç—É–ø—É –¥–æ –µ–∫—Å–ø–æ—Ä—Ç—É.
6. ‚úÖ **–ê–Ω–∞–ª—ñ—Ç–∏–∫–∞ —Ç–∞ –ê—Ä—Ö—ñ–≤** - –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –º–æ–∂–µ –æ–±–∏—Ä–∞—Ç–∏:
   - –î–∞–Ω—ñ –ø–æ –æ–¥–Ω—ñ–π –∫–æ–º–ø–∞–Ω—ñ—ó (–∞–∫—Ç–∏–≤–Ω–∞ –∞–±–æ –≤–∏–±—Ä–∞–Ω–∞)
   - –î–∞–Ω—ñ –ø–æ –¥–µ–∫—ñ–ª—å–∫–æ–º –∫–æ–º–ø–∞–Ω—ñ—è–º (–≤–∏–±—ñ—Ä –∑ —á–µ–∫–±–æ–∫—Å–∞–º–∏)
   - –î–∞–Ω—ñ –ø–æ –≤—Å—ñ–º –∫–æ–º–ø–∞–Ω—ñ—è–º –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
7. ‚úÖ **–ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è** - –ó–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è –Ω–∞ —Ä—ñ–≤–Ω—ñ –ø—Ä–æ—Ñ—ñ–ª—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ (–≤ localStorage), –Ω–µ –ø—Ä–∏–≤'—è–∑–∞–Ω—ñ –¥–æ –∫–æ–º–ø–∞–Ω—ñ–π. –¶–µ –ø—Ä–∞–≤–∏–ª—å–Ω–∏–π –ø—ñ–¥—Ö—ñ–¥.

---

## üîç –§—ñ–ª—å—Ç—Ä–∞—Ü—ñ—è –ø–æ –∫–æ–º–ø–∞–Ω—ñ—è—Ö –≤ –ê—Ä—Ö—ñ–≤—ñ —Ç–∞ –ê–Ω–∞–ª—ñ—Ç–∏—Ü—ñ

### –ö–æ–Ω—Ü–µ–ø—Ü—ñ—è:
–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –º–æ–∂–µ –æ–±–∏—Ä–∞—Ç–∏ —è–∫—ñ –¥–∞–Ω—ñ –≤—ñ–¥–æ–±—Ä–∞–∂–∞—Ç–∏:
1. **–û–¥–Ω–∞ –∫–æ–º–ø–∞–Ω—ñ—è** - –¥–∞–Ω—ñ —Ç—ñ–ª—å–∫–∏ –¥–ª—è –∞–∫—Ç–∏–≤–Ω–æ—ó –∞–±–æ –≤–∏–±—Ä–∞–Ω–æ—ó –∫–æ–º–ø–∞–Ω—ñ—ó
2. **–î–µ–∫—ñ–ª—å–∫–∞ –∫–æ–º–ø–∞–Ω—ñ–π** - –≤–∏–±—ñ—Ä –∑ —á–µ–∫–±–æ–∫—Å–∞–º–∏ (multiselect)
3. **–í—Å—ñ –∫–æ–º–ø–∞–Ω—ñ—ó** - –¥–∞–Ω—ñ –≤—Å—ñ—Ö –∫–æ–º–ø–∞–Ω—ñ–π –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ (–¥–µ –≤—ñ–Ω —î OWNER/MEMBER/VIEWER)

### UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç: `CompanyFilter`

**–†–æ–∑—Ç–∞—à—É–≤–∞–Ω–Ω—è:** –í–µ—Ä—Ö –∞—Ä—Ö—ñ–≤—É —Ç–∞ –∞–Ω–∞–ª—ñ—Ç–∏–∫–∏ (–ø–æ—Ä—è–¥ –∑ —Ñ—ñ–ª—å—Ç—Ä–∞–º–∏ –¥–∞—Ç)

**–î–∏–∑–∞–π–Ω:**
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ –§—ñ–ª—å—Ç—Ä –∫–æ–º–ø–∞–Ω—ñ–π: [V]                    ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ ‚òë –¢–û–í "–ö–æ–º–ø–∞–Ω—ñ—è 1" (12345678)          ‚îÇ
‚îÇ ‚òë –¢–û–í "–ö–æ–º–ø–∞–Ω—ñ—è 2" (87654321)          ‚îÇ
‚îÇ ‚òê –¢–û–í "–ö–æ–º–ø–∞–Ω—ñ—è 3" (11223344)          ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ [–û–±—Ä–∞—Ç–∏ –≤—Å—ñ] [–°–∫–∏–Ω—É—Ç–∏] [–ó–∞—Å—Ç–æ—Å—É–≤–∞—Ç–∏]   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

**–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ (–∫–æ–º–ø–∞–∫—Ç–Ω–∞):**
```
–ö–æ–º–ø–∞–Ω—ñ—ó: [–í—Å—ñ ‚ñº]  ‚Üê Dropdown –∑ multiselect
```

### –§—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª:
- –ó–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è –≤ localStorage —è–∫ `selectedCompanyIds` (–º–∞—Å–∏–≤ ID)
- –Ø–∫—â–æ –ø–æ—Ä–æ–∂–Ω—å–æ –∞–±–æ –≤—Å—ñ –æ–±—Ä–∞–Ω—ñ ‚Üí –ø–æ–∫–∞–∑—É–≤–∞—Ç–∏ –≤—Å—ñ –∫–æ–º–ø–∞–Ω—ñ—ó
- –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø—É: –ø–æ–∫–∞–∑—É–≤–∞—Ç–∏ —Ç—ñ–ª—å–∫–∏ –∫–æ–º–ø–∞–Ω—ñ—ó, –¥–µ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á —î —É—á–∞—Å–Ω–∏–∫–æ–º
- –í –∞–Ω–∞–ª—ñ—Ç–∏—Ü—ñ - –∞–≥—Ä–µ–≥–∞—Ü—ñ—è –¥–∞–Ω–∏—Ö –∑ –æ–±—Ä–∞–Ω–∏—Ö –∫–æ–º–ø–∞–Ω—ñ–π
- –í –∞—Ä—Ö—ñ–≤—ñ - —Ñ—ñ–ª—å—Ç—Ä–∞—Ü—ñ—è –¥–µ–∫–ª–∞—Ä–∞—Ü—ñ–π –ø–æ –æ–±—Ä–∞–Ω–∏—Ö –∫–æ–º–ø–∞–Ω—ñ—è—Ö

### –û–Ω–æ–≤–ª–µ–Ω–Ω—è Actions:

**`getDeclarations()`:**
```typescript
export async function getDeclarations(filters?: {
  companyIds?: string[]; // –Ø–∫—â–æ –Ω–µ –ø–µ—Ä–µ–¥–∞–Ω–æ - –≤—Å—ñ –∫–æ–º–ø–∞–Ω—ñ—ó –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
  // ... —ñ–Ω—à—ñ —Ñ—ñ–ª—å—Ç—Ä–∏
})
```

**`getAnalytics()`:**
```typescript
export async function getAnalytics(companyIds?: string[]) // –Ø–∫—â–æ –Ω–µ –ø–µ—Ä–µ–¥–∞–Ω–æ - –≤—Å—ñ
```

### Backend –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏:
- –ö–æ–∂–Ω–∞ –∫–æ–º–ø–∞–Ω—ñ—è –≤ `companyIds` –º–∞—î –ø–µ—Ä–µ–≤—ñ—Ä—è—Ç–∏—Å—è –Ω–∞ –¥–æ—Å—Ç—É–ø –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
- –Ø–∫—â–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –Ω–∞–º–∞–≥–∞—î—Ç—å—Å—è –æ—Ç—Ä–∏–º–∞—Ç–∏ –¥–∞–Ω—ñ –∫–æ–º–ø–∞–Ω—ñ—ó, –¥–æ —è–∫–æ—ó –Ω–µ –º–∞—î –¥–æ—Å—Ç—É–ø—É ‚Üí –ø–æ–º–∏–ª–∫–∞

---

## üé® –î–æ–¥–∞—Ç–∫–æ–≤—ñ —ñ–¥–µ—ó (–æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ)

1. **–¢–µ–≥–∏/–∫–∞—Ç–µ–≥–æ—Ä—ñ—ó –¥–ª—è –∫–æ–º–ø–∞–Ω—ñ–π** (–¥–ª—è –æ—Ä–≥–∞–Ω—ñ–∑–∞—Ü—ñ—ó)
2. **–ï–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–∏—Ö –¥–µ–∫—ñ–ª—å–∫–æ—Ö –∫–æ–º–ø–∞–Ω—ñ–π** –æ–¥–Ω–∏–º —Ñ–∞–π–ª–æ–º (–∑ —Ä–æ–∑–¥—ñ–ª–µ–Ω–Ω—è–º –ø–æ –≤–∫–ª–∞–¥–∫–∞—Ö)
3. **API –∫–ª—é—á—ñ –¥–ª—è –∫–æ–∂–Ω–æ—ó –∫–æ–º–ø–∞–Ω—ñ—ó** (–¥–ª—è —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ–π)

---

## üíæ –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ vs –∫–æ–º–ø–∞–Ω—ñ—ó

### –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è —Ä—ñ–≤–Ω—è –ö–û–†–ò–°–¢–£–í–ê–ß–ê (localStorage):
- ‚úÖ –¢–µ–º–∞ –æ—Ñ–æ—Ä–º–ª–µ–Ω–Ω—è
- ‚úÖ –ï–∫—Å–ø–æ—Ä—Ç –∫–æ–ª–æ–Ω–æ–∫ (—è–∫—ñ –∫–æ–ª–æ–Ω–∫–∏ –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º)
- ‚úÖ –Ü–Ω—Ç–µ—Ä—Ñ–µ–π—Å (itemsPerPage, viewMode, defaultArchiveTab, dashboardSections)
- ‚úÖ –§—ñ–ª—å—Ç—Ä –∫–æ–º–ø–∞–Ω—ñ–π (—è–∫—ñ –∫–æ–º–ø–∞–Ω—ñ—ó –≤—ñ–¥–æ–±—Ä–∞–∂–∞—Ç–∏)

### –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è —Ä—ñ–≤–Ω—è –ö–û–ú–ü–ê–ù–Ü–á (–ë–î):
- ‚úÖ –¢–æ–∫–µ–Ω –º–∏—Ç–Ω–∏—Ü—ñ (`Company.customsToken`)
- ‚úÖ –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—ó (`Company.syncSettings`):
  - –ê–≤—Ç–æ-—Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—è
  - –ó–∞—Ç—Ä–∏–º–∫–∞ –º—ñ–∂ –∑–∞–ø–∏—Ç–∞–º–∏
  - –†–æ–∑–º—ñ—Ä chunk
  - –°–ø–æ–≤—ñ—â–µ–Ω–Ω—è (email/browser)

**–ü—Ä–∏—á–∏–Ω–∞:** 
- –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ - —Ü–µ –ø—Ä–µ—Ñ–µ—Ä–µ–Ω—Ü—ñ—ó —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É, —è–∫—ñ –ø–æ–≤–∏–Ω–Ω—ñ –∑–∞–ª–∏—à–∞—Ç–∏—Å—è –æ–¥–Ω–∞–∫–æ–≤–∏–º–∏ –Ω–µ–∑–∞–ª–µ–∂–Ω–æ –≤—ñ–¥ –≤–∏–±—Ä–∞–Ω–æ—ó –∫–æ–º–ø–∞–Ω—ñ—ó
- –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –∫–æ–º–ø–∞–Ω—ñ—ó - —Ü–µ –±—ñ–∑–Ω–µ—Å-–ª–æ–≥—ñ–∫–∞, —è–∫–∞ —Ä—ñ–∑–Ω–∞ –¥–ª—è –∫–æ–∂–Ω–æ—ó –∫–æ–º–ø–∞–Ω—ñ—ó
